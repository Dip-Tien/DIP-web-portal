@using System.Globalization

<div class="pt-2 mt-2">
    <!-- Trạng thái -->
    @if (ShowInactive && Inactive.HasValue)
    {
        <div class="small mb-1">
            <span class="text-muted me-1">@Language["Trạng thái"]:</span>
            @if (Inactive == true)
            {
                <span class="text-danger">
                    <i class="bi bi-slash-circle me-1"></i>@Language["Không SD"]
                </span>
            }
            else
            {
                <span class="text-success">
                    <i class="bi bi-check-circle me-1"></i>@Language["Đang SD"]
                </span>
            }
        </div>
    }

    <!-- Người tạo -->
    @if (!string.IsNullOrEmpty(CreatedBy) || CreatedOn != null)
    {
        <div class="small mb-1 d-flex justify-content-between align-items-center flex-wrap">
            <div class="text-truncate">
                <span class="text-muted me-1">@Language["Người tạo"]:</span>
                <i class="bi bi-person-badge me-1"></i>@CreatedBy
            </div>
            @if (ShowCreatedDate && CreatedOn != null)
            {
                <div class="text-muted small ms-2">
                    <i class="bi bi-calendar3 me-1"></i>
                    @CreatedOn?.ToString("g", CultureInfo.CurrentCulture)
                </div>
            }
        </div>
    }

    <!-- Người sửa -->
    @if (!string.IsNullOrEmpty(ModifiedBy) & (ModifiedOn != null && ModifiedOn != CreatedOn))
    {
        <div class="small d-flex justify-content-between align-items-center flex-wrap">
            <div class="text-truncate">
                <span class="text-muted me-1">@Language["Người sửa"]:</span>
                <i class="bi bi-person-fill-gear me-1"></i>@ModifiedBy
            </div>
            @if (ShowModifiedDate && ModifiedOn != null && ModifiedOn != CreatedOn)
            {
                <div class="text-muted small ms-2">
                    <i class="bi bi-calendar-event me-1"></i>
                    @ModifiedOn?.ToString("g", CultureInfo.CurrentCulture)
                </div>
            }
        </div>
    }
</div>

@code {
    [Inject] protected Microsoft.Extensions.Localization.IStringLocalizer Language { get; set; } = default!;

    [Parameter] public bool? Inactive { get; set; }
    [Parameter] public string? CreatedBy { get; set; }
    [Parameter] public DateTime? CreatedOn { get; set; }
    [Parameter] public string? ModifiedBy { get; set; }
    [Parameter] public DateTime? ModifiedOn { get; set; }

    [Parameter] public bool ShowInactive { get; set; } = true;
    [Parameter] public bool ShowCreatedDate { get; set; } = true;
    [Parameter] public bool ShowModifiedDate { get; set; } = true;
}
